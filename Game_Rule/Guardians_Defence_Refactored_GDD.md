# 《守護者防線：雷霆遺產》遊戲設計企劃書 (GDD)

## 1. 遊戲概述
本遊戲是一款基於《雷霆之石》(Thunderstone) 核心機制的卡牌集合構築遊戲 (Deck-Building Game)。玩家從基礎的牌組開始，透過招募英雄、購買裝備與法術，進入充滿危險的地城討伐怪物，最終目標是擊敗強大的 Boss 並奪取「雷霆之石」。

---

## 2. 卡牌物件設計結構 (Data Schema)

為了擴展性與未來資料庫串接，所有卡牌統一採用以下 JSON 結構基礎：

```json
{
  "id": "string",          // 唯一識別碼
  "name": "string",        // 顯示名稱
  "type": "string",        // Hero, Weapon, Spell, Item, Food, Villager, Monster, Basic, Special
  "subTypes": ["string"],  // Fighter, Wizard, Dragon, Undead 等標籤
  "cost": 0,               // 村莊購買費用 (金幣)
  "vp": 0,                 // 勝利點數
  "goldValue": 0,          // 作為資源使用時提供的金幣
  "light": 0,              // 提供/要求的亮度值
  "desc": "string",        // 說明文字
  "requirements": {},      // 使用需求 (如: { "minStrength": 5 })
  "abilities": {           // 特殊效果觸發 (Key-Value)
    "onVillage": "string",
    "onDungeon": "string",
    "onWin": "string"
  },
  
  // --- 類別專屬欄位 ---
  "hero": {
    "level": 1, 
    "series": "string", 
    "attack": 0, 
    "magicAttack": 0, 
    "strength": 0,         // 負重上限
    "xpToUpgrade": 0, 
    "upgradeToId": "string"
  },
  "monster": {
    "tier": 1, 
    "hp": 0, 
    "xpGain": 0, 
    "goldGain": 0,
    "penalty": 0           // 特殊懲罰值
  },
  "equipment": {
    "attack": 0, 
    "magicAttack": 0, 
    "weight": 0            // 佔用負重
  }
}
```

---

## 3. 遊戲設置 (Setup)

### 3.1 初始牌庫 (每位玩家)
每位玩家起始擁有 12 張基礎卡牌：
- **正規軍 (Regular Army)** x 6 (英雄: ATK 0/STR 2)
- **火把 (Torch)** x 2 (光源: +1 Light / +2 Gold)
- **長矛 (Spear)** x 2 (武器: +1 ATK / +1 Gold)
- **乾糧 (Rations)** x 2 (食物: 戰鬥時 STR+2 / +1 Gold)

### 3.2 遊戲區域設置
1. **村莊市場 (Village)**：
   - **隨機卡位**：隨機挑選 4 種英雄 (僅限 **等級 1**)、8 種村莊物品卡。
   - **常駐卡位**：基礎卡牌四張 (正規軍、長矛、火把、乾糧) 始終可供購買補充。
2. **地城大廳 (Dungeon Hall)**：
   - **初始狀態**：地城大廳為空。
   - **啟動機制**：第一回合開始時，翻開怪物牌庫第一張牌放置於 **Rank 3 (深處)**。
   - **推進邏輯**：**每回合結束時**，怪物向 Rank 1 前進。Rank 3 空下時才從牌庫補充。
   - **區域懲罰**：Rank 1 (-1 Light), Rank 2 (-2 Light), Rank 3 (-3 Light)。
3. **雷霆標記隨機分配 (Thunderstone Marker)**：
   - **機制**：不再使用單一的 Boss 卡。
   - **分配**：在怪物牌庫**建構完成後**，系統會從**最底部 10 張**怪物中，隨機選定一隻作為「雷霆之石攜帶者」。
   - **強化效果**：該怪物獲得「雷霆之石」標記，基礎 **生命值 (HP) +3**。
   - **視覺標示**：在地城中出現時，該怪物將擁有獨特的特效或邊框標記。

---

## 4. 遊戲流程

### 4.1 回合結構
每個回合分為三個階段：

#### 第一階段：行動 (Action)
玩家必須從以下三種行動選擇其一：
1. **造訪村莊 (Visit Village)**：
   - 展示手牌中的資源卡。
   - 購買新卡片 (放入棄牌堆)。
   - 支付 XP 升級場上的英雄。
   - **後果**：地城中 Rank 1 的怪物會逃脫 (移出遊戲並計入玩家扣分或破壞堆)。
2. **進入地城 (Enter Dungeon)**：
   - 選擇一個 Rank 的怪物進行戰鬥。
   - **戰鬥計算公式**：
     - `總光照 = 手牌所有光源卡總和`。
     - `光照不足懲罰 = Max(0, 區域懲罰值 - 總光照) * 2`。
     - `最終攻擊 = (英雄ATK + 武器ATK + 法術ATK) - 光照不足懲罰`。
     - `勝負結果`：若 `最終攻擊 >= 怪物HP` 則勝利；否則戰敗。
3. **休息 (Rest)**：
   - **核心效果**：獲得 **1 點 XP**。
   - **可選動作**：可選擇摧毀一張手牌 (移出遊戲)。
   - **後果**：同造訪村莊，Rank 1 怪物逃脫。

#### 第二階段：地城推進 (Dungeon Shift)
如果在「造訪村莊」或「休息」時有怪物逃脫，或「進入地城」挑戰成功：
- 地城怪物依照 Rank 順序向 Rank 1 移動填補。
- 從牌庫翻開新怪物填補 Rank 3 的空缺。

#### 第三階段：重整 (Cleanup)
- 將手牌與本回合打出的卡片全部放入棄牌堆。
- 重新補滿 6 張手牌。若牌庫不足，將棄牌堆重新洗牌。

---

## 5. 核心機制詳細規則

### 5.1 負重與武器 (Strength & Weight)
- 英雄卡上有能量值 (**Strength**)。
- 武器卡上有重量值 (**Weight**)。
- **規則**：一位英雄只能攜帶「總重量 ≦ 自身能量」的武器。若能量不足，該武器攻擊力無效。

### 5.2 光源懲罰 (Light Penalty)
- 地城愈深愈黑暗。
- **計算**：每缺少 1 點光照，總物理攻擊力降低 2 點。
- **例外**：魔法攻擊 (Magic Attack) 通常不受光照懲罰影響。

### 5.3 經驗與升級 (XP & Level Up)
- 戰勝怪物可獲得 XP。
- 在村莊階段，可消耗特定 XP 將手牌中的英雄替換為下一等級的英雄卡。

### 5.4 雷霆之石與遊戲終結 (Thunderstone Mechanic)
- **攜帶者識別**：當帶有雷霆標記的怪物出現在 Rank 1 時，若玩家未能在其逃脫前將其擊敗，則遊戲視同失敗。
- **勝利條件**：擊敗持有標記的怪物後，玩家立即奪得雷霆之石，進入終點結算。

---

## 6. 勝負判定
- **勝利**：擊敗持有雷霆之石的 Boss，並統計所有獲得卡片的 VP。
- **失敗**：Boss 逃脫地城出口。
- **最終計分**：`我的總 VP - 逃脫怪物總 VP`。

---
**本企劃書由 Antigravity 整理編寫，旨在將雷霆之石的豐富內容轉化為可開發的電子版架構。**
